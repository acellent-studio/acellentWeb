<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>acellentWeb Windows Service</title>
    <link href="./css/bootstrap.min.css" rel="stylesheet" />
</head>
<body>
    <div class="row">
        <div class="col-lg-8 col-lg-offset-2">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <p>
                        <h3>优捷小型网站服务器 (acellentWeb Windows Service)</h3>
                    </p>
                </div>
                <div class="panel-body">
                    <p>
                        <h3>
                            <em>欢迎使用优捷小型网站服务器！</em>
                        </h3>
                    </p>
                    <p>
                        <h4>
                            此小型网站服务器系以C# 6.0所开发，并以OWIN Self-hosted Web元件为基础之网站伺服器程式。若您跟
                            我一样想要开发一个简易的web程式刚好符合您的web app需求，但又不需要使用到如IIS Web Server这么
                            繁重的网站伺服器，且想让该简易web程式能直接与您的web app打包在同一个.msi安装档提供给使用者在进行
                            简易安装后即可使用，则欢迎使用本元件。
                            <br /><br />
                            此元件亦支援了简易.Net WebApi功能，只要在webconfig.json设定档中宣告正确的webapi dll名称，
                            本元件即可支援webapi功能。本元件在执行安装后，将以windows service的方式常驻执行。
                        </h4>
                        <br />
                        <h4>
                            <em><b>Tom Liao</b></em><br />
                            优捷科技工作室 Acellent IT Studio<br />
                            Taipei, Taiwan. 2015/9/3
                        </h4>
                    </p>
                    <p>
                        <h3><b><u>使用说明</u></b></h3>
                        <br />
                        <h4>
                            <b><u>基本要求：</u></b>
                            <ol>
                                <li>Microsoft .Net framework 4.5.2 (含)以上版本</li>
                                <li>
                                    Microsoft.AspNet.WebApi.Client version=5.2.3
                                </li>
                                <li>
                                    Microsoft.AspNet.WebApi.Core version=5.2.3
                                </li>
                                <li>
                                    Microsoft.AspNet.WebApi.Owin version=5.2.3
                                </li>
                                <li>
                                    Microsoft.Owin version=3.0.1
                                </li>
                                <li>
                                    Microsoft.Owin.Diagnostics version=3.0.1
                                </li>
                                <li>
                                    Microsoft.Owin.FileSystems version=3.0.1
                                </li>
                                <li>
                                    Microsoft.Owin.Host.HttpListener version=3.0.1
                                </li>
                                <li>
                                    Microsoft.Owin.Hosting version=3.0.1
                                </li>
                                <li>
                                    Microsoft.Owin.StaticFiles version=3.0.1
                                </li>
                                <li>
                                    Newtonsoft.Json version=8.0.3
                                </li>
                                <li>Owin version=1.0</li>
                            </ol>
                            <br />
                            <b><u>安装说明：</u></b>
                            <ol>
                                <li>
                                    <b>主程式根目录：</b>C:\Program Files\acellent (安装时的默认路径)<br />
                                </li>
                                <li>
                                    不论您将本元件安装到何档案目录下，该目录里都会有以下的档案及子目录：<br />
                                    <b>2.1 根目录：</b><br />
                                    <ul>
                                        <li>
                                            主执行程式(acellentWeb.exe)。
                                        </li>
                                        <li>
                                            本元件所需的所有.dll 档。
                                        </li>
                                    </ul>
                                    <b>2.2 Web 目录：</b>这是放置您web app的子目录，但您可藉由修改webconfig.json档案将默认的web目录指到磁碟机上的任何其他目录。
                                    <ul>
                                        <li>
                                            <b>webroot</b>: 这是放置 web app 的根目录(必要)
                                        </li>
                                        <li>
                                            <b>webroot\css</b>: 这是默认放置 css 档的目录(非必要)
                                        </li>
                                        <li>
                                            <b>webroot\files</b>: 这是默认放置唯读档案的目录，但使用者必需明确知道档案路径，此目录不提供档案浏览功能(非必要)
                                        </li>
                                        <li>
                                            <b>webroot\js</b>: 这是默认放置 JavaScript 档的目录(非必要)
                                        </li>
                                        <li>
                                            <b>webroot\public</b>: 此目录提供档案清单浏览功能(非必要)
                                        </li>
                                    </ul>
                                </li>
                            </ol>
                            <br />
                            <b><u>设定档 webconfig.json 说明：</u></b><br />
                            <ol>
                                <li>
                                    在 webconfig.json 中所有设定主要分为以下四大区块：<br />
                                    <ul>
                                        <li>
                                            <b>UrlSetting</b>: <br />
                                            -- <b>Domain</b>: 默认为 + 号，表允许所有的 IP address，包括 localhost, 127.0.0.1, 192.160.xx 及其他绑定在安装本元件电脑上的所有 IP。<br />
                                            -- <b>Port</b>: 默认为 80。
                                        </li>
                                        <li>
                                            <b>FolderSetting</b>: 默认支援三种目录格式<br />
                                            -- <b>root</b>:(必要) 这是本元件启动您web app的根目录，不可省略。默认为您安装目录下之webroot目录。<br />
                                            -- <b>allow_list</b>:(非必要) 默认为 webroot 下的 public 目录。<br />
                                            -- <b>file_only</b>:(非必要) 默认为 webroot 下的 files 目录。它与 public 的不同是，public 允许档案浏览，而 file_only 则无法浏览目录，使用者必须明确知道档案路径及档名。<br />
                                        </li>
                                        <li>
                                            <b>WebApiSetting</b>: WebApi 元件的设定方式请直接参考设定档中的范例写法做必要的修改。
                                        </li>
                                        <li>
                                            <b>AngularJS</b>: 此功能特别针对支援 AngularJS 1.x 版而设计，此元件尚未测试过Angular 2。若您的 web app 需要 SEO，则请务必将该段设定中的 html5Mode 设为 Y。
                                        </li>
                                    </ul>
                                </li>
                                <li>
                                    webconfig.json 设定档的默认内容：
                                    <blockquote>
                                        <pre>
{
  "UrlSetting": {
    "Domain": "+",
    "Port": "80"
  },
  "FolderSetting": [
    {
      "FolderType": "root",
      "VirtualPath": "/",
      "PhysicalDir": "default"
    },
    {
      "FolderType": "allow_list",
      "VirtualPath": "/public",
      "PhysicalDir": "default"
    },
    {
      "FolderType": "file_only",
      "VirtualPath": "/files",
      "PhysicalDir": "default"
    }
  ],
  "WebApiSetting": [
    {
      "DLLName": "acellent.WebApi.dll",
      "DLLPath": "default",
      "RouteName": "DefaultApi",
      "RouteTemplate": "api/{controller}/{id}",
      "ApiDefaults": {
        "controller": "welcome",
        "id": "RouteParameter.Optional"
      },
      "UseJSON": "Y"
    },
    {
      "DLLName": "SampleWebApi.dll",
      "DLLPath": "default",
      "RouteName": "SampleApi",
      "RouteTemplate": "test/{controller}/{id}",
      "ApiDefaults": {
        "controller": "sample",
        "id": "1"
      },
      "UseJSON": "N"
    }
  ],
  "AngularJS": {
    "enable": "Y",
    "html5Mode": "Y",
    "rootPath": "/",
    "entryPath": "/index.html"
  }
}
</pre>
                                    </blockquote>
                                </li>
                            </ol>
                        </h4>
                    </p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>